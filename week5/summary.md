# 堆的概念
如果有一个关键码集合K={K0,K1,…,Kn-1}，把它的所有元素按完全二叉树的顺序存储方式存储在一个数组中，并满足： 

Ki <= K2*i + 1且Ki <= K2*i + 2(Ki < K2*i + 1且Ki >= K2*i + 2)i = 0,1,2,…,则称为大堆（或小堆）。

通俗点说，堆就是一个任意节点都小于（或大于）其左右孩子节点的一个二叉树。
# 堆的性质
堆存储在下标为0开始的数组中，因此它有以下特点：

1. 如果i = 0,节点i是根节点，没有双亲节点；否则节点i的双亲节点为节点（i - 1）
2. 如果2 * i + 1 <= n - 1，则节点i的左孩子为节点2 * i + 1，否则节点i无左孩子。
3. 如果2 * i + 2 <= n - 1,则节点i的右孩子为节点 2 * i + 2，否则节点i无右孩子

# 堆的创建
创建堆就是将数组的数值一次让入到一个二叉树中，然后通过调整使其满足一个堆，其将二叉树调整为一个最小堆的原理就是从最后一个非叶子节点开始整理，一直到根节点为止，将每个节点及其子树调整到满足小堆的性质即可。

具体的调整方法：

1. 假设该节点下标为parent
2. 找到该节点的左孩子left = parent * 2 + 1；
3. 如果parent的右孩子节点存在，则取其左右孩子节点的最小值，和parent比较，若果比parnt小，则和parent值交换，然后就如上图一直调整，直到符合堆的性质为止。

# 堆的插入
将新元素插入到最小堆的最后面，插入之后，对其进行上浮调整。

上浮思想：

1. 将要调整元素的下标定位child，首先需要找到child的父节点，parent = child - 1 / 2
2. 比较child和parent的值，如果构建小堆，child的值小于parent的值，就进行交换。
3. 然后让child = parent，parent = child - 1 / 2，以此循环

# 堆的删除
每次删除堆顶元素的时候，先将堆顶的元素和堆的最后一个值进行交换，然后删除最后一个元素，再对第一个元素进行下沉处理。

下沉操作思想：
1. 先将下沉元素下标定位parent，找到其子节点child。
2. 然后比较child，和child + 1的值，将较小的值和parent的值进行比较，如果建立的是小堆就，当child比parent小的时候就进行交换。
3. 最后同上浮操作一样，以此循环。

# 堆的应用
数组的排序：解决这个问题可以使用两种方法

方法一、创建一个堆，然后每次取堆顶元素，将其放入数组中，然后再删除堆顶元素，以此循环。但这个方法会开辟额外的空间。

方法二、这个方法主要是利用了堆的上浮和下沉操作，不需要创建额外的堆，并且所耗费的时间也相对较少。

